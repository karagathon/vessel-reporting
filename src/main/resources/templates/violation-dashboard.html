<!DOCTYPE html>
<html xmlns:th="http://wwww.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Violation Dashboard</title>

<header th:insert="fragments/libs.html :: header"> </header>

</head>
<body>
<div th:replace="fragments/nav.html :: nav-fragment"></div>   
<div class="container">

	<div class="row mb-4">
		<div class="col-md-3">
			<a th:href="@{/add-violation}"  class="btn btn-add">Add New Violation</a>
		</div>
		<div class="col-md-9">
			<form th:action="@{/search-violation}" method="GET">
			    <div class="row">
			    	<div class="col-md-7">
				    	<input type="text" class="form-control" name="keyword" id="keyword" size="50" th:value="${keyword}" placeholder="Search" />
			    	</div>
			    	<div class="col-md-1">
			    		<button type="submit" class="btn btn-secondary"><i class="fas fa-search"></i></button>
			    	</div>
			    </div>
			</form>
		</div>
	</div>
	
	<div class="card mb-4"  th:each="violation : ${violations}">
		<div class="card-header" th:text="${'Violation ID #' + violation.id}"></div>
		  <div class="card-body">
			    <h4 class="card-title" th:text="${violation.title}">Card title</h4>
			    <h6 class="card-subtitle mb-2 text-muted" th:text="${#dates.format(violation.dateOfViolation, 'yyyy-MM-dd')}"></h6>
			    <p class="card-text" th:text="${violation.description}"></p>
			    <a th:href="@{/violation/{id}(id=${violation.id})}"  class="btn btn-primary btn-details stretched-link" >Details</a>
		  </div>
	</div>

</div>
<footer th:replace="fragments/footer.html :: footer"></footer>
<script type="text/javascript" th:src="@{/js/notif.js}" ></script>
</body>
</html>